<script type="module" src="../src/Component.js"></script>

<script>
  let characters = ['ðŸ¥³', 'ðŸŽ‰', 'âœ¨']

  let confetti = new Array(100)
    .fill()
    .map((_, i) => {
      return {
        character: characters[i % characters.length],
        x: Math.random() * 100,
        y: -20 - Math.random() * 100,
        r: 0.1 + Math.random() * 1,
      }
    })
    .sort((a, b) => a.r - b.r)

  loop()
  function loop() {
    confetti = confetti.map((emoji) => {
      emoji.y += 0.7 * emoji.r
      if (emoji.y > 120) emoji.y = -20
      return emoji
    })

    document.documentElement['#//component']?.render()
    requestAnimationFrame(loop)
  }
</script>

<style>
  html,
  body {
    overflow: hidden;
  }

  span {
    position: absolute;
    font-size: 5vw;
  }
</style>

<span
  for="c in confetti"
  .style="{left: c.x+'%', top: c.y+'%', transform: `scale(${c.r})`}"
  >${c.character}</span
>
