<script type="module" src="../src/Component.js"></script>

<span
  for="const item of list"
  .style="{
    transform: `translate(${item.x}vw, ${item.y}vh) scale(${item.r})`,
  }"
>
  ${item.char}
</span>
<!-- ${1} -->

<script>
  let chars = ['❄️']

  let list = new Array(500)
    .fill()
    .map((_, i) => {
      return {
        char: chars[i % chars.length],
        x: Math.random() * 100,
        y: Math.random() * 100 - 100,
        r: 0.1 + Math.random() * 1,
      }
    })
    .sort((a, b) => a.r - b.r)

  loop()
  function loop() {
    list = list.map((emoji) => {
      emoji.y += 0.25 * emoji.r
      if (emoji.y > 100) emoji.y = -8
      return emoji
    })

    requestAnimationFrame(loop)
  }
</script>

<style>
  html,
  body {
    overflow: hidden;
    background-color: #222;
  }

  span {
    font-size: 2vw;
    position: absolute;
  }
</style>
