<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/animate-css/animate.css@master/animate.min.css"
/>
<script src="../src/Component.js"></script>

<script>
  var list = 'hello world'
  var bool = true

  // TODO bug 快速增加然后删除然后增加，最后没有增加

  var hooks = {
    beforeInsert: function () {
      console.log('insert', this)

      this.classList.add('fadeIn')
      setTimeout(() => {
        this.classList.remove('fadeIn')
      }, 1000)
    },
    beforeRemove: function (done) {
      console.log('remove', this)

      this.classList.add('fadeOut')
      setTimeout(() => {
        this.classList.remove('fadeOut')
        done()
      }, 1000)
    },
  }
</script>

<input oninput="list=this.value" .value="list" autofocus />
<input type="checkbox" onclick="bool=this.checked" .checked="bool" autofocus />

<!-- <h1 if="bool" class="fadeIn@in fadeOut@out">{bool}</h1> -->

<ul
  if="bool"
  xclass="animate__bounceIn@in animate__bounceOut@out"
  .hooks="hooks"
>
  <!-- for >> .hooks 所以无效 -->
  <li
    for="(item,i) in list"
    xclass="animate__fadeInDown@in animate__fadeOutDown@out"
    .hooks="hooks"
  >
    <!-- <span>{item}</span> -->
    <span
      for="(item,i) in list"
      xclass="animate__fadeInLeft@in animate__fadeOutRight@out"
      .hooks="hooks"
      >{item}</span
    >
  </li>
</ul>

<style>
  ul {
    width: fit-content;
  }
  span {
    margin: 10px;
    vertical-align: middle;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    background-color: #0af;
    color: #fff;
    /* animation-duration: 1s; */
  }
  .fadeIn {
    animation: fadeIn 1s;
  }
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  .fadeOut {
    animation: fadeOut 1s;
  }
  @keyframes fadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  [class*='animate__'] {
    animation-duration: 0.375s;
  }
</style>
<style>
  .enter-from {
  }
  .enter-to {
  }
  .leave-from {
  }
  .leave-to {
  }
</style>
